<h1 class="mt-4">Serviços Prestados</h1>
<ol class="breadcrumb mb-4">
   <li class="breadcrumb-item active">
      Consulta
   </li>
</ol>
<div class="container mt-5">
   <form #consultaForm="ngForm" (ngSubmit)=consultar()>
      <div class="row">
         <div class="col-md-6">
            <div class="form-group">
               <label for="inputNome">Nome Cliente:</label>
               <input type="text" name="nome" id="inputNome" [(ngModel)]="nome" class="form-control">
            </div>
         </div>
         <div class="col-md-6">
            <div class="form-group">
               <label for="inputMes">Mês:</label>
               <select class="form-control" id="inputMes" [(ngModel)]="mes" name="mes">
                  <option value="">Selecione...</option>
                  <option *ngFor="let mes of meses" [value]="mes">
                     {{ mes }}
                  </option>
               </select>
            </div>
         </div>
      </div>
      <div class="row">
         <div class="col-md-6">
            <button type="submit" class="btn btn-primary">
               <i class="fa fa-search"></i>
               Consultar
            </button>
            <button type="button" class="btn btn-warning ms-3"
                  routerLink="/servicos-prestados/form">
               <i class="fa fa-plus"></i>
               Novo
            </button>
         </div>
      </div>
   </form>

   <div class="row mt-3">
      <!-- Mensagens de erro-->
      <div class="row">
         <div class="col-md-12">
            <div class="alert alert-warning" role="alert" *ngIf="mensagem; else tabela">
               {{ mensagem }}
            </div>
         </div>
      </div>

      <ng-template #tabela>
         <table class="table" *ngIf="lista">
            <thead>
               <tr>
                  <th>Cliente</th>
                  <th>Descrição</th>
                  <th>Preço</th>
                  <th>Data</th>
               </tr>
            </thead>
            <tbody>
               <tr *ngFor="let servico of lista">
                  <td>{{ servico.cliente.nome }}</td>
                  <td>{{ servico.descricao }}</td>
                  <td>{{ servico.valor }}</td>
                  <td>{{ servico.data }}</td>
               </tr>
            </tbody>
         </table>
      </ng-template>
   </div>

</div>
